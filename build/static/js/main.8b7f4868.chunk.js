(this["webpackJsonpantd-demo-ts"]=this["webpackJsonpantd-demo-ts"]||[]).push([[0],{158:function(e,t,n){},240:function(e,t,n){},247:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){},354:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(26),s=n.n(r),i=n(37),o=n(9),l=n(88),j=n(14),d=n(145),u=(n(155),n(146)),m=n.n(u),b=n.p+"static/media/avatar.b06802df.png",h=(n(158),n(1)),O=m.a.Search,f=function(e){Object(d.a)(e);var t=Object(o.f)();return Object(h.jsx)("div",{className:"nav-header",children:Object(h.jsx)("div",{className:"g-container wrapper",children:Object(h.jsx)("div",{className:"nav-left-container",children:Object(h.jsxs)("div",{className:"g-link-clear nav-left",children:[Object(h.jsx)("a",{href:"/",children:Object(h.jsx)("img",{className:"img--logo",src:b,alt:"logo"})}),Object(h.jsx)("div",{className:"title",children:"Feed.xyz"}),Object(h.jsx)(O,{className:"searchContainer",placeholder:"Search for articles or writers",onSearch:function(e){t("/search/".concat(e))},allowClear:!0,size:"large"})]})})})})},x=(n(90),n(63)),p=n.n(x),g=n.p+"static/media/renwu.2ad43e92.svg",v=(n(240),function(e){e.changeData;return Object(h.jsxs)("div",{className:"homeLeftContainer",children:[Object(h.jsx)("h3",{children:"Home"}),Object(h.jsx)("h3",{children:"Earn"}),Object(h.jsx)("h3",{children:"MarketPlace"}),Object(h.jsx)("h3",{children:"Stake"}),Object(h.jsx)(p.a,{type:"primary",className:"createBtn",children:"Create"}),Object(h.jsx)("div",{className:"bottomSty",children:Object(h.jsx)("img",{src:g,alt:""})})]})}),y=(n(70),n(43)),N=n.n(y),C=(n(71),n(44)),S=n.n(C),_=(n(96),n(51)),T=n.n(_),P=(n(72),n(32)),k=n.n(P),D=n(58),H=n.n(D),R=n(357),w=n(34),L=n.n(w),Y=(n(247),function(e){var t=e.data,n=e.loading,c=(e.refreshArticleData,Object(o.f)()),r=Object(a.useRef)(null),s=function(e,t){var n=e.replace("![","[").replace("**","").replace("#","").replace("##","").replace("###","").replace("\n\n"," ").replace("\n"," "),a=n.lastIndexOf(" "),c=n.substring(0,a+1)+"...",r=(new H.a.Converter).makeHtml(c);return Object(h.jsx)("div",{onClick:function(){return i(t)},dangerouslySetInnerHTML:{__html:r},className:"contentHtml"})},i=function(e){c("/details/".concat(e))};return Object(h.jsx)("div",{className:"homeContentContainer",ref:r,children:Object(h.jsx)(N.a,{spinning:n,children:t.map((function(e){return Object(h.jsx)("div",{className:"articleContainer",children:Object(h.jsx)(S.a,{author:Object(h.jsx)("span",{onClick:function(){return i(e.contentDigest)},className:"authorSty",children:e.title}),avatar:Object(h.jsx)("div",{onClick:function(){c("/author/".concat(e.address))},children:e.avatarURL?Object(h.jsx)(k.a,{src:e.avatarURL,alt:"avatar"}):Object(h.jsx)(k.a,{style:{backgroundColor:"#87d068"},icon:Object(h.jsx)(R.a,{})})}),content:s(e.snipped,e.contentDigest),datetime:Object(h.jsx)(T.a,{title:L()(1e3*e.publishedAtTimestamp).format("YYYY-MM-DD HH:mm:ss"),children:Object(h.jsx)("span",{children:L()(1e3*e.publishedAtTimestamp).fromNow()})})})},e.originalDigest)}))})})}),M=n(149),A=n.n(M).a.create({timeout:6e4,headers:{"Content-Type":"application/json"}});A.interceptors.request.use((function(e){return e.baseURL="http://119.28.250.184:8765",e}),(function(e){return Promise.reject(e)})),A.interceptors.response.use((function(e){var t=e.data;return 0!==t.code?Promise.reject(t):e.data}),(function(e){var t=e.response;return Promise.reject(t.data)}));var E=A;var I=n.p+"static/media/refresh.8770d521.svg",F=(n(346),function(){var e=Object(o.f)(),t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){s({num:10,after_ts:"",after_id:""})}),[]);var s=function(e){(function(e){var t=localStorage.getItem("lan")||"en";return E({url:"/recommended_contributors?num=".concat(e.num,"&after_ts=").concat(e.after_ts,"&after_id=").concat(e.after_id,"&lan=").concat(t),method:"get"})})(e).then((function(e){0===e.code&&r(e.result)}))};return Object(h.jsxs)("div",{className:"homeRightContainer",children:[Object(h.jsx)("div",{className:"connectBtnContainer",children:Object(h.jsx)(p.a,{type:"primary",className:"connectBtn",children:"Connect Wallet"})}),Object(h.jsxs)("div",{className:"homeRightTop",children:[Object(h.jsx)("div",{className:"homeRightTopTitle",children:"Recommended"}),Object(h.jsx)("img",{onClick:function(){s({num:10,after_ts:"",after_id:""})},className:"homeRightTopImg",src:I,alt:"refresh"})]}),c.map((function(t,n){return Object(h.jsxs)("div",{className:"recommendedAuthorContainer ".concat(c.length===n+1?"lasterRecommendedAuthorContainer":""),children:[Object(h.jsxs)("div",{className:"containerLeft",onClick:function(){e("/author/".concat(t.address))},children:[Object(h.jsx)("img",{src:t.avatarURL,alt:"avatar"}),Object(h.jsx)("span",{children:t.displayName})]}),Object(h.jsx)("div",{className:"containerRight",children:"Follow"})]},t.address)}))]})}),U=(n(347),function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(0),d=Object(j.a)(l,2),u=(d[0],d[1]);Object(a.useEffect)((function(){m({num:10,after_ts:"",after_id:""})}),[]);var m=function(e){o(!0),function(e){var t=localStorage.getItem("lan")||"en";return E({url:"/latest?num=".concat(e.num,"&after_ts=").concat(e.after_ts,"&after_id=").concat(e.after_id,"&lan=").concat(t),method:"get",data:e})}(e).then((function(e){o(!1),0===e.code&&(c(e.result),u(e.result[e.result.length-1].id))}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsx)("div",{className:"homePageContainer",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(v,{changeData:function(){}}),Object(h.jsx)(Y,{data:n,loading:i,refreshArticleData:function(){m({num:10,after_ts:0,after_id:""})}}),Object(h.jsx)(F,{})]})})]})}),B=(n(348),function(e){var t,n=e.data,a=e.loading,c=Object(o.f)(),r=function(e){c("/details/".concat(e))};return Object(h.jsx)("div",{children:Object(h.jsx)(N.a,{spinning:a,children:Object(h.jsx)("div",{className:"userRightContainer",children:null===n||void 0===n||null===(t=n.posts)||void 0===t?void 0:t.map((function(e){return Object(h.jsx)("div",{className:"userArticleContainer",children:Object(h.jsx)(S.a,{author:Object(h.jsx)("span",{onClick:function(){return r(e.contentDigest)},className:"authorSty",children:e.title}),avatar:n.avatarURL?Object(h.jsx)(k.a,{src:n.avatarURL,alt:"avatar"}):Object(h.jsx)(k.a,{style:{backgroundColor:"#87d068"},icon:Object(h.jsx)(R.a,{})}),content:(t=e.snipped,a=e.contentDigest,Object(h.jsx)("div",{onClick:function(){return r(a)},dangerouslySetInnerHTML:{__html:t},className:"contentHtml"})),datetime:Object(h.jsx)(T.a,{title:L()(e.publishedAtTimestamp).format("YYYY-MM-DD HH:mm:ss"),children:Object(h.jsx)("span",{children:L()(e.publishedAtTimestamp).fromNow()})})})},e.contentDigest);var t,a}))})})})}),z=(n(349),function(){var e=Object(o.g)(),t=(Object(o.f)(),Object(a.useState)({})),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(j.a)(s,2),l=i[0],d=i[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){d(!0),function(e){return E({url:"/premium_contributor?address=".concat(e.address),method:"get",data:e})}({address:e.address||""}).then((function(e){d(!1),0===e.code&&r(e.result)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsxs)("div",{className:"userHome",children:[Object(h.jsx)("h2",{children:l?"":"".concat(c.displayName,"\u7684\u6587\u7ae0")}),Object(h.jsx)(B,{data:c,loading:l})]})]})}),W=(n(350),function(){var e=Object(o.g)(),t=Object(o.f)(),n=Object(a.useState)([]),c=Object(j.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),l=Object(j.a)(i,2),d=l[0];l[1];Object(a.useEffect)((function(){(function(e){var t=localStorage.getItem("lan")||"en";return E({url:"/search?words=".concat(e.words,"&lan=").concat(t),method:"get",data:e})})({words:e.searchWord||""}).then((function(e){0===e.code&&s(e.result)}))}),[]);var u=function(e){var t=e.replace("![","[").replace("**","").replace("#","").replace("##","").replace("###","").replace("\n\n"," ").replace("\n"," "),n=t.lastIndexOf(" "),a="";console.log("strIndex",n),a=n>0?t.substring(0,n+1)+"...":t+"...";var c=(new H.a.Converter).makeHtml(a);return Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:c},className:"contentHtml"})};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsx)("div",{className:"searchPageContainer",children:Object(h.jsx)(N.a,{spinning:d,children:r.map((function(e){return Object(h.jsx)("div",{onClick:function(){return n=e.contentDigest,void t("/details/".concat(n));var n},children:Object(h.jsx)(S.a,{author:Object(h.jsx)("span",{className:"authorSty",children:e.title}),avatar:Object(h.jsx)("div",{onClick:function(){t("/author/".concat(e.address))},children:e.avatarURL?Object(h.jsx)(k.a,{src:e.avatarURL,alt:"avatar"}):Object(h.jsx)(k.a,{style:{backgroundColor:"#87d068"},icon:Object(h.jsx)(R.a,{})})}),content:u(e.snipped),datetime:Object(h.jsx)(T.a,{title:L()(1e3*e.publishedAtTimestamp).format("YYYY-MM-DD HH:mm:ss"),children:Object(h.jsx)("span",{children:L()(1e3*e.publishedAtTimestamp).fromNow()})})})},e.originalDigest)}))})})]})}),J=(n(351),function(){var e=Object(o.g)(),t=Object(o.f)(),n=Object(a.useState)({}),c=Object(j.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!0),l=Object(j.a)(i,2),d=l[0],u=l[1],m=Object(a.useState)(!0),b=Object(j.a)(m,2),O=b[0],x=b[1],p=Object(a.useState)(""),g=Object(j.a)(p,2),v=g[0],y=g[1];Object(a.useEffect)((function(){C()}),[]);var C=function(){(function(e){return E({url:"/premium_article?digest=".concat(e),method:"get"})})(e.id||"").then((function(e){if(0===e.code){s(e.result);var t=(new H.a.Converter).makeHtml(e.result.body);y(t),setTimeout((function(){return function(){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++){var n=e[t].parentElement;null===n||void 0===n||n.style.setProperty("text-align","center")}var a=document.getElementsByTagName("p");for(t=0;t<a.length;t++)a[t].style.setProperty("font-size","1.1rem"),a[t].style.setProperty("color","#334155"),a[t].style.setProperty("line-height","1.625"),a[t].style.setProperty("margin-top","0.75rem"),a[t].style.setProperty("margin-bottom","0.75rem");var c=document.getElementsByTagName("h2");for(t=0;t<c.length;t++)c[t].style.setProperty("font-size","1.67rem"),c[t].style.setProperty("font-weight","700"),c[t].style.setProperty("margin-top","1.87rem"),c[t].style.setProperty("margin-bottom","1.87rem"),c[t].style.setProperty("line-height","1.33");var r=document.getElementsByTagName("h3");for(t=0;t<r.length;t++)r[t].style.setProperty("font-size","1.33rem"),r[t].style.setProperty("font-weight","600"),r[t].style.setProperty("margin-top","1.67rem"),r[t].style.setProperty("margin-bottom","0.67rem"),r[t].style.setProperty("line-height","1.5");x(!1),u(!1)}()}),500)}}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsx)("div",{className:"ArticleDetailsContainer",children:Object(h.jsx)(N.a,{spinning:d&&O,children:Object(h.jsx)(S.a,{author:[Object(h.jsx)("div",{className:"authorSty",children:r.title}),Object(h.jsxs)("div",{className:"authorTimeSty",children:["\u53d1\u5e03\u4e8e ",d?"":L()(1e3*r.publishedAtTimestamp).format("YYYY-MM-DD HH:mm:ss"),Object(h.jsx)("a",{className:"authorTimeA",href:"https://mirror.xyz/".concat(r.address,"/").concat(r.contentDigest),target:"_blank",children:"\u2022Read on Mirror.xyz"})]})],avatar:Object(h.jsx)("span",{onClick:function(){t("/author/".concat(r.address))},children:r.avatarURL?Object(h.jsx)(k.a,{src:r.avatarURL,alt:"avatar"}):Object(h.jsx)(k.a,{style:{backgroundColor:"#87d068"},icon:Object(h.jsx)(R.a,{})})}),content:Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:v}})})})})]})}),q=(n(352),function(){return Object(a.useEffect)((function(){Object(l.b)("#0045ff")}),[]),Object(h.jsx)(i.a,{children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",element:Object(h.jsx)(U,{})}),Object(h.jsx)(o.a,{path:"/search/:searchWord",element:Object(h.jsx)(W,{})}),Object(h.jsx)(o.a,{path:"/author/:address",element:Object(h.jsx)(z,{})}),Object(h.jsx)(o.a,{path:"/details/:id",element:Object(h.jsx)(J,{})})]})})}),G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,358)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(q,{})}),document.getElementById("root")),G()}},[[354,1,2]]]);
//# sourceMappingURL=main.8b7f4868.chunk.js.map